# Kiro 账号管理器修复说明

## 已修复的问题

### 1. 组件导入错误（✅ 已修复）
- **问题**：使用了错误的组件 `KiroAccountManagerEnhanced.vue`
- **修复**：改为使用 `KiroAccountManager.vue`

### 2. 界面显示不全（✅ 已修复）
- **问题**：账号卡片被截断，看不到操作按钮
- **修复**：添加了 `min-height: 0` 和正确的滚动样式

### 3. 添加日志输出（✅ 已完成）
- 所有 API 调用都会在终端输出日志
- 便于调试和查看操作是否成功

## 当前状态

### ✅ 可以工作
- **添加账号**：通过 Refresh Token 添加账号

### ⚠️ 需要测试
- **删除账号**：点击删除按钮
- **切换账号**：点击切换按钮
- **界面滚动**：查看是否可以滚动到操作按钮

## 测试步骤

### 1. 重启应用
```bash
# 停止当前应用（Ctrl+C）
cd myapp
wails dev
```

### 2. 打开 Kiro 账号管理
- 点击左侧的"Kiro 账号"

### 3. 测试界面滚动
- 查看是否可以滚动
- 是否能看到完整的账号卡片
- 是否能看到"切换"和删除按钮

### 4. 测试删除功能
1. 点击账号卡片右侧的删除按钮（垃圾桶图标）
2. 确认删除
3. 查看终端日志：
   ```
   API 调用: RemoveKiroAccount (id=xxx)
   ✓ 账号删除成功
   ```

### 5. 测试切换功能
1. 添加第二个账号（如果只有一个）
2. 点击非激活账号的"切换"按钮
3. 查看终端日志：
   ```
   API 调用: SwitchKiroAccount (id=xxx)
   ✓ 账号切换成功
   ```
4. 验证账号状态变化（"当前"标签应该移动）

## 如果还是看不到按钮

### 临时解决方案
1. **调整窗口大小**：拖大应用窗口
2. **使用浏览器缩放**：Ctrl/Cmd + `-` 缩小显示
3. **检查滚动条**：尝试向下滚动

### 检查终端日志
即使看不到按钮，也可以通过终端日志确认功能是否工作：
- 如果点击后终端有输出，说明功能正常
- 如果没有输出，说明前端事件没有触发

## 文件位置

### 已修改的文件
1. `myapp/frontend/src/components/SettingsPanel.vue`
   - 修改导入：使用 `KiroAccountManager.vue`
   - 修改样式：添加滚动支持

2. `myapp/frontend/src/components/KiroAccountManager.vue`
   - 修改样式：添加 `min-height: 0`

3. `myapp/app.go`
   - 添加详细日志输出

## 下一步

如果重启后还是有问题，请告诉我：
1. 是否可以滚动？
2. 终端是否有日志输出？
3. 具体看不到哪些内容？

我会根据您的反馈继续调整。
